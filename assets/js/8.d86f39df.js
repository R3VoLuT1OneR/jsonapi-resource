(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{364:function(t,s,a){"use strict";a.r(s);var e=a(42),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"php-attributes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#php-attributes"}},[t._v("#")]),t._v(" PHP Attributes")]),t._v(" "),a("p",[t._v("Library use "),a("a",{attrs:{href:"https://www.php.net/manual/en/language.attributes.overview.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP Attributes"),a("OutboundLink")],1),t._v(" feature for mapping class into resource object.\nLets look on the attributes in more details.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("To use PHP attributes and make our code clear import attributes namespace and give it alias.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("JSONAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Attributes")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSONAPI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),a("h2",{attrs:{id:"resource-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-object"}},[t._v("#")]),t._v(" Resource Object")]),t._v(" "),a("h3",{attrs:{id:"class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class"}},[t._v("#")]),t._v(" Class")]),t._v(" "),a("p",[t._v("To map class to be "),a("a",{attrs:{href:"https://jsonapi.org/format/#document-resource-objects",target:"_blank",rel:"noopener noreferrer"}},[t._v("resource object"),a("OutboundLink")],1),t._v(" we must define the identifiers "),a("code",[t._v("type")]),t._v(" and "),a("code",[t._v("id")]),t._v(".\nUse "),a("code",[t._v("JSONAPI\\Resource\\Attributes\\Resource")]),t._v(" PHP attribute, to map class to resource object.")]),t._v(" "),a("h3",{attrs:{id:"type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[t._v("#")]),t._v(" Type")]),t._v(" "),a("p",[t._v("Type is static, and is same per each object instance of resource class.")]),t._v(" "),a("h4",{attrs:{id:"generated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generated"}},[t._v("#")]),t._v(" Generated")]),t._v(" "),a("p",[t._v("By default, type will be generated from class name, by making lower case first letter.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("#"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSONAPI")]),t._v("\\"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \\\\ type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'article'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Article")]),t._v("\n")])])]),a("h4",{attrs:{id:"user-defined"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-defined"}},[t._v("#")]),t._v(" User defined")]),t._v(" "),a("p",[t._v("We can pass "),a("code",[t._v("type")]),t._v(" as first constructor parameter.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),a("span",{pre:!0,attrs:{class:"token attribute-content"}},[a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name class-name-fully-qualified"}},[t._v("JSONAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'articles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Article")]),t._v("\n")])])]),a("h3",{attrs:{id:"id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#id"}},[t._v("#")]),t._v(" Id")]),t._v(" "),a("p",[t._v("Each object implementing the resource class going to have different id.\nId can be fetched from object method or property.\n"),a("code",[t._v("idFetcher")]),t._v(" is second "),a("code",[t._v("string")]),t._v(" constructor parameter, and it is "),a("code",[t._v("getId")]),t._v(" by default.\nIt is identifies method or property that must be called to fetch resource id.")]),t._v(" "),a("p",[t._v("Example how to define resource with "),a("code",[t._v("id")]),t._v(" identifier represented by "),a("code",[t._v("id")]),t._v(" property.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("#"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSONAPI")]),t._v("\\"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token argument-name"}},[t._v("idFetcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("People")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword type-declaration"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),t._v("\n")])])]),a("h2",{attrs:{id:"attributes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attributes"}},[t._v("#")]),t._v(" Attributes")]),t._v(" "),a("p",[t._v("PHP attribute "),a("code",[t._v("JSONAPI\\Resource\\Attributes\\Attribute")]),t._v(" is used for setting up resource "),a("a",{attrs:{href:"https://jsonapi.org/format/#document-resource-object-attributes",target:"_blank",rel:"noopener noreferrer"}},[t._v("attributes"),a("OutboundLink")],1),t._v(".\nAttribute can be assigned on public property, method or class.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Please do not mix up PHP attributes with JSON:API resource attributes.")])]),t._v(" "),a("h3",{attrs:{id:"key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#key"}},[t._v("#")]),t._v(" Key")]),t._v(" "),a("p",[t._v("First parameter in attribute constructor is string, and it is resource attribute key.\nIf key not provided or null, it will be the property or method name.\nFor class attribute key is required.")]),t._v(" "),a("h3",{attrs:{id:"value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#value"}},[t._v("#")]),t._v(" Value")]),t._v(" "),a("p",[t._v("Attribute value fetcher depends on what attribute target.")]),t._v(" "),a("h4",{attrs:{id:"property-target"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#property-target"}},[t._v("#")]),t._v(" Property target")]),t._v(" "),a("p",[t._v("Class property must be public, so the value can be fetched from the property.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),a("span",{pre:!0,attrs:{class:"token attribute-content"}},[a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name class-name-fully-qualified"}},[t._v("JSONAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Attribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword type-declaration"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$name")]),t._v("\n")])])]),a("h4",{attrs:{id:"method-target"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#method-target"}},[t._v("#")]),t._v(" Method target")]),t._v(" "),a("p",[t._v("Method must be public, so we can fetch value from it.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),a("span",{pre:!0,attrs:{class:"token attribute-content"}},[a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name class-name-fully-qualified"}},[t._v("JSONAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Attribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),a("h4",{attrs:{id:"class-target"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-target"}},[t._v("#")]),t._v(" Class target")]),t._v(" "),a("p",[t._v("Attribute can be assigned on class, in this case "),a("code",[t._v("key")]),t._v(" and "),a("code",[t._v("value")]),t._v(" must be provided to attribute constructor.\nValue can be some static value or anonymous function, that can be called to fetch dynamic value.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),a("span",{pre:!0,attrs:{class:"token attribute-content"}},[a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Attribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),a("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("getDynamicName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassWithDynamicName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDynamicName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n")])])]),a("h2",{attrs:{id:"relationships"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#relationships"}},[t._v("#")]),t._v(" Relationships")]),t._v(" "),a("p",[t._v("PHP attribute "),a("code",[t._v("JSONAPI\\Resource\\Attributes\\Relationship")]),t._v(" is used for mapping "),a("a",{attrs:{href:"https://jsonapi.org/format/#document-resource-object-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("resource relationships"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("Relationship")]),t._v(" attribute extends same base abstract class as "),a("code",[t._v("Attribute")]),t._v(".\nYou can reference to "),a("RouterLink",{attrs:{to:"/guide/attributes/#attributes"}},[t._v("Attributes")]),t._v(" to see how to set up "),a("code",[t._v("key")]),t._v(" and "),a("code",[t._v("value")]),t._v(".")],1)])}),[],!1,null,null,null);s.default=r.exports}}]);